{% set active_page = 'products' %} {% extends 'seller/base_seller.html' %} {%
block title %}Inventory Management{% endblock %} {% block extra_css %}
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css"
/>
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/seller_styles/add_product_stocks.css') }}"
/>
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/seller_styles/seller_product_management.css') }}"
/>
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/seller_styles/product_preview.css') }}"
/>
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/seller_styles/progress_bar.css') }}"
/>
{% endblock %} {% block content %}
<div class="container-stocks">
  {% set progress_step = 3 %} {% include 'seller/partials/_progress_bar.html' %}

  <form id="productStocksForm" class="form-main">
    <div class="form-section">
      <div class="page-header">
        <div class="section-icon">
          <i class="ri-archive-line"></i>
        </div>
        <div class="page-header-left">
          <h2>Inventory Management</h2>
          <p class="page-subtext">Manage inventory for your product</p>
        </div>
      </div>
      <div class="form-grid"></div>
      <div class="form-group full-width">
        <div style="overflow-x: auto">
          <button
            type="button"
            id="addVariantBtn"
            class="btn btn-purple"
            style="
              margin-bottom: 1rem;
              font-weight: 700;
              display: inline-flex;
              align-items: center;
              gap: 0.5rem;
            "
          >
            <i class="ri-add-line" style="font-size: 1.1rem"></i> Add Variant
          </button>
          <div style="overflow-x: auto">
            <table
              class="variant-table"
              style="width: 100%; border-collapse: collapse"
            >
              <thead>
                <tr style="border-bottom: 1px solid #e0e0e0">
                  <th>No.</th>
                  <th>Photo</th>
                  <th>SKU</th>
                  <th>Color</th>
                  <th>Size</th>
                  <th>Low Stock</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="variantTableBody">
                <tr>
                  <td
                    style="
                      padding: 8px;
                      border: 1px solid #e5e7eb;
                      text-align: center;
                      font-weight: 600;
                      color: #6b7280;
                      width: 36px;
                    "
                  >
                    1
                  </td>
                  <td
                    style="
                      padding: 8px;
                      border: 1px solid #e5e7eb;
                      text-align: center;
                      width: 60px;
                    "
                  >
                    <label class="photo-upload-box grey" style="margin: 0 auto">
                      <input type="file" style="display: none" />
                      <div class="photo-upload-content">
                        <i
                          class="ri-image-add-line"
                          style="font-size: 1.2rem; color: #a259f7"
                        ></i>
                      </div>
                    </label>
                  </td>
                  <td
                    style="
                      padding: 8px;
                      border: 1px solid #e5e7eb;
                      width: 180px;
                    "
                  >
                    <input
                      type="text"
                      name="sku_1"
                      placeholder="SKU"
                      class="variant-input compact"
                    />
                  </td>
                  <td
                    style="
                      padding: 8px;
                      border: 1px solid #e5e7eb;
                      width: 180px;
                    "
                  >
                    <div
                      style="display: flex; gap: 0.5rem; align-items: center"
                    >
                      <input
                        type="text"
                        name="color_1"
                        placeholder="Color name"
                        class="variant-input compact"
                        style="flex: 1"
                      />
                      <input
                        type="color"
                        name="color_picker_1"
                        class="color-picker"
                        value="#000000"
                        style="
                          width: 40px;
                          height: 36px;
                          border: 1px solid #e5e7eb;
                          border-radius: 4px;
                          cursor: pointer;
                          padding: 2px;
                        "
                      />
                    </div>
                  </td>
                  <td
                    style="
                      padding: 8px;
                      border: 1px solid #e5e7eb;
                      width: 200px;
                    "
                  >
                    <div
                      style="display: flex; flex-direction: column; gap: 6px"
                    >
                      <button
                        type="button"
                        class="btn btn-secondary btn-select-sizes"
                        data-row="1"
                      >
                        Select Sizes
                      </button>
                      <div
                        class="variant-size-summary"
                        style="font-size: 0.9rem; color: #374151"
                      >
                        <!-- selected sizes will render here, e.g. XS (10), S (5) -->
                      </div>
                      <div
                        class="variant-size-group"
                        style="display: none"
                      ></div>
                    </div>
                  </td>

                  <td
                    style="
                      padding: 8px;
                      border: 1px solid #e5e7eb;
                      width: 140px;
                    "
                  >
                    <input
                      type="number"
                      name="lowStock_1"
                      min="0"
                      placeholder="Low Stock"
                      class="variant-input compact"
                    />
                  </td>
                  <td
                    style="
                      padding: 8px;
                      border: 1px solid #e5e7eb;
                      text-align: center;
                      width: 60px;
                    "
                  >
                    <!-- First row cannot be deleted -->
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div
            style="
              margin-top: 1.5rem;
              display: flex;
              justify-content: flex-end;
              gap: 1rem;
            "
          >
            <button
              type="reset"
              class="btn btn-secondary btn-clear"
              style="
                font-weight: 700;
                display: flex;
                align-items: center;
                gap: 0.5rem;
                background-color: #ffffff;
              "
            >
              <i class="ri-refresh-line" style="font-size: 1.1rem"></i> Clear
            </button>
            <button
              type="submit"
              class="btn btn-purple btn-save"
              style="
                font-weight: 700;
                display: flex;
                align-items: center;
                gap: 0.5rem;
              "
            >
              <i class="ri-save-3-line" style="font-size: 1.1rem"></i> Save
            </button>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>
{% endblock %} {% block extra_js %}
<script src="{{ url_for('static', filename='js/seller_scripts/add_product_flow.js') }}"></script>
<script src="{{ url_for('static', filename='js/seller_scripts/product_preview.js') }}"></script>
<script src="{{ url_for('static', filename='js/seller_scripts/variant_table.js') }}"></script>
<script src="{{ url_for('static', filename='js/seller_scripts/add_product_stocks.js') }}"></script>
<script src="{{ url_for('static', filename='js/seller_scripts/progress_bar.js') }}"></script>
<!-- Size selection modal -->
<div id="sizeSelectModal" class="modal">
  <div class="modal-content size-modal-content">
    <div class="modal-header">
      <div class="modal-header-content">
        <div class="modal-icon">
          <i data-lucide="ruler"></i>
        </div>
        <div class="modal-title-section">
          <h2 class="modal-title">Select Sizes & Stock</h2>
          <p class="modal-subtitle">Choose sizes and set stock quantities</p>
        </div>
      </div>
      <button class="close-btn" id="sizeModalClose">
        <i data-lucide="x"></i>
      </button>
    </div>
    <div class="modal-body">
      <div class="size-modal-note">
        Select the sizes you want to offer and set stock quantities for each
      </div>
      <div id="sizeOptionsContainer" class="size-options-area"></div>
    </div>
    <div class="modal-footer">
      <button type="button" id="sizeModalCancel" class="btn-secondary" title="Cancel changes">
        <i data-lucide="x"></i>
        Cancel
      </button>
      <button type="button" id="sizeModalSave" class="btn-primary" title="Save size selections">
        <i data-lucide="save"></i>
        Save Changes
      </button>
    </div>
  </div>
</div>
{% endblock %}
